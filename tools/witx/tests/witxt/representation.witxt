;; type names don't matter
(witx $a
  (typename $a (flags u32 $b $c)))
(witx $b
  (typename $b (flags u32 $b $c)))

(assert_representable eq $a "a" $b "b")
(assert_representable eq $b "b" $a "a")

;; flags
(witx $a
  (typename $a (flags u32 $b $c)))
(witx $b
  (typename $b (flags u32 $b $c $d)))

(assert_representable noteq $b "b" $a "a")
(assert_representable superset $a "a" $b "b")

(witx $c
  (typename $c (flags u32 $b $e)))
(assert_representable noteq $a "a" $c "c")
(assert_representable noteq $c "c" $a "a")

(witx $d
  (typename $d (flags u16 $b $c)))
(assert_representable noteq $a "a" $d "d")
(assert_representable superset $d "d" $a "a")
(assert_representable superset $d "d" $b "b")

;; enums
(witx $a
  (typename $a (enum u32 $b $c)))
(witx $b
  (typename $b (enum u32 $b $c $d)))
(assert_representable superset $a "a" $b "b")
(assert_representable noteq $b "b" $a "a")

(witx $c
  (typename $c (enum u16 $b $c)))
(assert_representable superset $c "c" $a "a")
(assert_representable superset $c "c" $b "b")

;; unions
(witx $a
  (typename $tag (enum u8 $b $c))
  (typename $a (union $tag (field $b u32) (field $c f32))))
(witx $b
  (typename $tag (enum u8 $b $c $d))
  (typename $b (union $tag (field $b u32) (field $c f32) (field $d f64))))
(assert_representable superset $a "a" $b "b")
(assert_representable noteq $b "b" $a "a")

(witx $c
  (typename $tag (enum u8 $b $c))
  (typename $c (union $tag (field $c f32) (field $b u32))))
(assert_representable eq $a "a" $c "c")
(assert_representable eq $c "c" $a "a")
(assert_representable superset $c "c" $b "b")
